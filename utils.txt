utility function version 3 in github
